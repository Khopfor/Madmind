<!DOCTYPE html>
<html xml:lang="en" lang="en"
    xmlns="http://www.w3.org/1999/xhtml">
<head>
 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <script type="text/javascript" src="snap.svg-min.js"></script>
  <script type="text/javascript">
    var startX = 100;
    var startY = 100;

    function init() {
      Snap("#button").click(resetFcn);
      Snap("#buttonText").click(resetFcn);
      Snap("#circle").drag(dragMove, dragStart, dragEnd);
    }

    function resetFcn(evt) {
      Snap("#circle").attr({cx: 100, cy: 100});
    }
    
    function dragStart(x, y, evt) {
      // figure out where the circle currently is
      startX = parseInt(Snap("#circle").attr("cx"), 10);
      startY = parseInt(Snap("#circle").attr("cy"), 10);
    }

    function dragMove(dx, dy, x, y, evt) {
      Snap("#"+id).attr({cx: (startX + dx), cy: (startY + dy)});
    }

    function dragEnd(evt) {
      // no action required
    }


  </script>


  <script type="text/javascript">

    function newBubble(){
      var svg = document.getElementById('svg-object').contentDocument.getElementsByTagName('svg')[0];
      console.log(svg);
      element=document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
      element.setAttribute('id',200);
      element.setAttribute('cx',200);
      element.setAttribute('cy',100);
      element.setAttribute('rx',100);
      element.setAttribute('ry',50);
      element.setAttribute('style',"fill:white;stroke:purple");
      svg.appendChild(element);
    }

    // function save(){
    //   var element = document.createElement('a');
    //   element.setAttribute('href','data:text/plain;charset=utf-8, ' + encodeURIComponent(textInput));
    //   element.setAttribute('download', filename);
    //   document.body.appendChild(element);
    //   element.click();
    //   //document.body.removeChild(element);
    // }
  </script>
</head>

<body>
  
<object id="svg-object" style="width:100%;height:100%;" data="Amourdemavie.svg" ></object>
<div>
  <button onclick="newBubble()">New</button>
  <button onclick="save()">Save</button>
</div>
<!-- <svg viewBox="0 0 256 244">
  <use xlink:href="integrability.svg"></use>
</svg> -->
<!-- <div style="text-align:center">
  <svg width="800" height="600" viewBox="0 0 400 300"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">

    <circle id="circle" cx="100" cy="100" r="30"
        style="fill:#663399; stroke: black"/>

    <ellipse id="bubble" cx="200" cy="80" rx="100" ry="50"
        style="fill:white;stroke:rgb(103, 20, 151);stroke-width:2" />

    <rect id="button" x="74" y="170"
        rx="5" ry="5" width="50" height="25"
        style="stroke:black; fill:#ddd; cursor:pointer"/>
    <text id="buttonText" x="100" y="187" class="buttonText"
      style="fill:black; stroke:none;
      font-family: sans-serif; font-size: 12pt;
      text-anchor:middle; cursor:pointer">New</text>
  </svg>
  </div> -->
</body>
</html>
